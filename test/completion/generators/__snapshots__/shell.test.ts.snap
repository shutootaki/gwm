// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`generateBashScript > スナップショットが安定している 1`] = `
"#!/bin/bash
# gwm bash completion script
# Generated by gwm completion
#
# Installation:
#   gwm completion install --shell bash
#
# Manual installation:
#   Copy this file to ~/.local/share/bash-completion/completions/gwm
#   Or add the following to your ~/.bashrc:
#   eval "$(gwm completion script --shell bash)"

_gwm_complete() {
  local cur="\${COMP_WORDS[COMP_CWORD]}"
  local words=("\${COMP_WORDS[@]:1}")
  local cword=$((COMP_CWORD - 1))

  # gwm completion __complete を呼び出し
  local candidates
  candidates=$(gwm completion __complete --shell bash --cword "$cword" -- "\${words[@]}" 2>/dev/null)

  if [[ -n "$candidates" ]]; then
    # タブ区切りの説明を除去してcompgenに渡す
    local values
    values=$(echo "$candidates" | cut -f1)
    COMPREPLY=($(compgen -W "$values" -- "$cur"))
  fi
}

complete -F _gwm_complete gwm
"
`;

exports[`generateFishScript > スナップショットが安定している 1`] = `
"# gwm fish completion script
# Generated by gwm completion
#
# Installation:
#   gwm completion install --shell fish
#
# Manual installation:
#   Copy this file to ~/.config/fish/completions/gwm.fish

# 補完候補を取得する関数
function __gwm_complete
  # コマンドライン引数を取得（gwm 自体を除く）
  set -l tokens (commandline -opc)
  set -l count (count $tokens)

  # gwm 自体を除いた引数
  if test $count -gt 1
    set tokens $tokens[2..-1]
    set count (math $count - 1)
  else
    set tokens
    set count 0
  end

  # gwm completion __complete を呼び出し
  gwm completion __complete --shell fish --cword $count -- $tokens 2>/dev/null
end

# gwm コマンドの補完を登録
complete -c gwm -f -a '(__gwm_complete)'

# サブコマンドごとの静的補完も追加（フォールバック用）
# list / ls
complete -c gwm -n '__fish_use_subcommand' -a 'list' -d 'List all worktrees'
complete -c gwm -n '__fish_use_subcommand' -a 'ls' -d 'List all worktrees (alias)'

# add
complete -c gwm -n '__fish_use_subcommand' -a 'add' -d 'Create a new worktree'

# go
complete -c gwm -n '__fish_use_subcommand' -a 'go' -d 'Go to a worktree directory'

# remove / rm
complete -c gwm -n '__fish_use_subcommand' -a 'remove' -d 'Remove worktrees'
complete -c gwm -n '__fish_use_subcommand' -a 'rm' -d 'Remove worktrees (alias)'

# clean
complete -c gwm -n '__fish_use_subcommand' -a 'clean' -d 'Clean up safe-to-delete worktrees'

# pull-main
complete -c gwm -n '__fish_use_subcommand' -a 'pull-main' -d 'Update main branch worktrees'

# help
complete -c gwm -n '__fish_use_subcommand' -a 'help' -d 'Show help'

# completion
complete -c gwm -n '__fish_use_subcommand' -a 'completion' -d 'Manage shell completion'
"
`;

exports[`generateZshScript > スナップショットが安定している 1`] = `
"#compdef gwm
# gwm zsh completion script
# Generated by gwm completion
#
# Installation:
#   gwm completion install --shell zsh
#
# Manual installation:
#   Copy this file to ~/.zsh/completions/_gwm
#   Ensure your fpath includes ~/.zsh/completions
#   Add the following to your ~/.zshrc (before compinit):
#     fpath=(~/.zsh/completions $fpath)
#   Then run:
#     autoload -Uz compinit && compinit

_gwm() {
  local curcontext="$curcontext" state line
  typeset -A opt_args

  # 現在のワード位置を計算（gwm 自体を除く）
  local words_without_cmd=("\${words[@]:1}")
  local cword=$((CURRENT - 1))

  # gwm completion __complete を呼び出し
  local candidates
  candidates=$(gwm completion __complete --shell zsh --cword "$cword" -- "\${words_without_cmd[@]}" 2>/dev/null)

  if [[ -n "$candidates" ]]; then
    local -a completions
    while IFS=$'\\t' read -r value desc; do
      if [[ -n "$desc" ]]; then
        completions+=("\${value}:\${desc}")
      else
        completions+=("$value")
      fi
    done <<< "$candidates"
    _describe 'gwm' completions
  fi
}

_gwm "$@"
"
`;
